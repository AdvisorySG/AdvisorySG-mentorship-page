{"version":3,"sources":["assets/index.js","components/header.jsx","components/profile-card.jsx","components/profile-modal.jsx","components/search-bar.jsx","mentors.js","App.js","serviceWorker.js","index.js"],"names":["advisoryLogo","process","advisoryMentorshipLogo","advisoryMentorshipPartners","NavBar","className","href","src","alt","Header","target","rel","ReadMore","onReadMore","onClick","ProfileCard","mentor","height","offset","once","thumbnailImageUrl","name","role","organisation","CloseButton","onClose","ProfileModal","isOpen","scrollEl","useRef","overlayClassName","shouldCloseOnOverlayClick","onAfterOpen","disableBodyScroll","current","reserveScrollBarGap","onRequestClose","onAfterClose","clearAllBodyScrollLocks","closeTimeoutMS","contentLabel","ref","fullImageUrl","class","industries","join","school","courseOfStudy","fullBio","useStyles","makeStyles","theme","formControl","minWidth","marginLeft","selectEmpty","marginTop","spacing","SearchBar","mentors","setHasSearch","setSearchResults","useState","field","setField","classes","documents","useMemo","Object","keys","map","mentorId","industry","searchIndex","lunr","this","b","k1","forEach","doc","add","searchValue","setSearchValue","delayDebounceFn","setTimeout","trim","length","query","split","word","results","search","item","clearTimeout","noValidate","autoComplete","TextField","id","label","onChange","newValue","value","FormControl","Select","labelId","event","MenuItem","fetchMentors","setMentors","setMentorIds","a","mentorIds","fetch","then","response","json","data","images","Photo","Name","Biography","industry1","industry2","industry3","Organisation","School","url","undefined","thumbnails","large","filter","Boolean","push","setHash","hash","window","history","replaceState","App","isModalOpen","setIsModalOpen","activeMentorId","setActiveMentorId","activateModal","hasMentorsFetched","setHasMentorsFetched","useEffect","fetchData","ensureModalFromHash","location","slice","hasOwnProperty","addEventListener","removeEventListener","hasSearch","searchResults","visibleMentorIds","hostname","match","ReactDOM","render","StrictMode","document","getElementById","ReactModal","setAppElement","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.b120ad8c.chunk.js","sourcesContent":["export const advisoryLogo = `${process.env.PUBLIC_URL}/advisory-logo.png`;\nexport const advisoryMentorshipLogo = `${process.env.PUBLIC_URL}/advisory-mentorship-logo-online.png`;\nexport const advisoryMentorshipPartners = `${process.env.PUBLIC_URL}/advisory-mentorship-partners.png`;\n","import React from \"react\";\nimport { IoIosArrowBack } from \"react-icons/io\";\n\nimport {\n  advisoryLogo,\n  advisoryMentorshipLogo,\n  advisoryMentorshipPartners,\n} from \"../assets\";\n\nimport \"./header.css\";\n\nconst NavBar = () => (\n  <div className=\"nav\">\n    <a className=\"nav-back-to-main-site\" href=\"https://advisory.sg\">\n      <IoIosArrowBack className=\"nav-arrow-icon\" />\n      back to main site\n    </a>\n    <img className=\"nav-logo\" src={advisoryLogo} alt=\"Advisory\" />\n  </div>\n);\n\nconst Header = () => (\n  <div className=\"header\">\n    <NavBar />\n    <div className=\"header-bottom\">\n      <img\n        className=\"header-mentorship-logo\"\n        src={advisoryMentorshipLogo}\n        alt=\"Advisory Mentorship Programme\"\n      />\n      <img\n        className=\"header-mentorship-logo\"\n        src={advisoryMentorshipPartners}\n        alt=\"Advisory Mentorship Programme Partners\"\n      />\n      <div className=\"header-mentorship-intro\">\n        <p>\n          The Advisory Mentorship Programme pairs students with working\n          professionals in their fields of interest on a 1-1 basis. Over the\n          course of four months, from June to September 2021, mentors give an\n          hour each month to meet with their mentee. In its first run in 2020,\n          the programme delivered over 2,000 hours of mentorship to 694 students\n          with the involvement of over 562 mentors. This year, we are delighted\n          to have more than 900 mentors, including from 16 mentorship partners,\n          whose fields of expertise range across 48 different industries.\n        </p>\n        <p>\n          Click{\" \"}\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://advisorysg.typeform.com/to/uYRYBpXk#source=mentorsite\"\n          >\n            here\n          </a>{\" \"}\n          to apply as a mentee. Applications close{\" \"}\n          <b>18 June 2021, 2359h (GMT +8).</b>\n        </p>\n        <p>\n          Click{\" \"}\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://drive.google.com/file/d/1w7zlMuGY_7hVXeW0LaNKXWWjLRt3ic4G/view?usp=sharing\"\n          >\n            here\n          </a>{\" \"}\n          to view the application guide on CVs and resumes.\n        </p>\n        <p>\n          Click{\" \"}\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://docs.google.com/document/d/1mGjAsgTP7KIheWVDm-TZ5Hxxf8WYPfWemiqcZ40XCwo/edit?usp=sharing\"\n          >\n            here\n          </a>{\" \"}\n          to view a list of FAQs for applicants.\n        </p>\n        <p>\n          Click{\" \"}\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://drive.google.com/file/d/1aA3l_WQ1ehGO8UBKuRFLqj4URpQbAVzN/view?usp=sharing\"\n          >\n            here\n          </a>{\" \"}\n          to view a sample application response.\n        </p>\n        <p>\n          Click{\" \"}\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://drive.google.com/file/d/19lUr2BchbYFAPMjEbN_M2mf1pyw-n7pj/view?usp=sharing\"\n          >\n            here\n          </a>{\" \"}\n          to view a list of 48 industries to filter mentors by industry.\n        </p>\n      </div>\n    </div>\n  </div>\n);\n\nexport default Header;\n","import LazyLoad from \"react-lazyload\";\nimport React from \"react\";\n\nimport \"./profile-card.css\";\n\nconst ReadMore = ({ onReadMore }) => (\n  <div className=\"card-read-more-container\">\n    <button className=\"card-read-more\" onClick={onReadMore}>\n      Read More\n    </button>\n  </div>\n);\n\nconst ProfileCard = ({ mentor, onReadMore }) => (\n  <div className=\"card\">\n    <div className=\"card-image-region\">\n      <LazyLoad height={160} offset={480} once>\n        <img\n          className=\"card-image\"\n          src={process.env.PUBLIC_URL + mentor.thumbnailImageUrl}\n          alt={mentor.name}\n        />\n      </LazyLoad>\n    </div>\n    <div className=\"card-descriptors\">\n      <div className=\"card-name\">{mentor.name}</div>\n      {mentor.role && <div className=\"card-desc\">{mentor.role}</div>}\n      {mentor.organisation && (\n        <div className=\"card-desc\">{mentor.organisation}</div>\n      )}\n    </div>\n    <ReadMore onReadMore={onReadMore} />\n  </div>\n);\n\nexport default ProfileCard;\n","import React, { useRef } from \"react\";\nimport ReactModal from \"react-modal\";\nimport { disableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\nimport { MdClose } from \"react-icons/md\";\n\nimport \"./profile-modal.css\";\n\nconst CloseButton = ({ onClose }) => (\n  <button className=\"modal-close\" onClick={onClose}>\n    <MdClose />\n  </button>\n);\n\nconst ProfileModal = ({ isOpen, mentor, onClose }) => {\n  mentor || (mentor = {});\n\n  const scrollEl = useRef(null);\n\n  // Disable body scroll when modal is open.\n  const onAfterOpenHandler = () =>\n    disableBodyScroll(scrollEl.current, { reserveScrollBarGap: true });\n  const onAfterCloseHandler = () => clearAllBodyScrollLocks();\n\n  return (\n    <ReactModal\n      className=\"modal-container\"\n      overlayClassName=\"modal-overlay\"\n      isOpen={isOpen}\n      shouldCloseOnOverlayClick={true}\n      onAfterOpen={onAfterOpenHandler}\n      onRequestClose={onClose}\n      onAfterClose={onAfterCloseHandler}\n      /* Set a timeout so modal element is removed after transition (0.3s). */\n      closeTimeoutMS={300}\n      contentLabel=\"View Details\"\n    >\n      <CloseButton onClose={onClose} />\n      <div className=\"modal-content\" ref={scrollEl}>\n        <div className=\"modal-left\">\n          <img\n            className=\"modal-image\"\n            src={process.env.PUBLIC_URL + mentor.fullImageUrl}\n            alt={mentor.name}\n          />\n          <div class=\"modal-metadata-container\">\n            <h2>{mentor.name}</h2>\n            <div className=\"modal-metadata\">\n              <strong>Role:</strong> {mentor.role}\n            </div>\n            {mentor.industries && (\n              <div className=\"modal-metadata\">\n                <strong>Industries:</strong> {mentor.industries.join(\", \")}\n              </div>\n            )}\n            {mentor.organisation && (\n              <div className=\"modal-metadata\">\n                <strong>Organisation:</strong> {mentor.organisation}\n              </div>\n            )}\n            {mentor.school && (\n              <div className=\"modal-metadata\">\n                <strong>School Graduated From:</strong> {mentor.school}\n              </div>\n            )}\n            {mentor.courseOfStudy && (\n              <div className=\"modal-metadata\">\n                <strong>Course of Study:</strong> {mentor.courseOfStudy}\n              </div>\n            )}\n          </div>\n        </div>\n        <div className=\"modal-right\">\n          <p className=\"modal-bio\">{mentor.fullBio}</p>\n        </div>\n      </div>\n    </ReactModal>\n  );\n};\n\nexport default ProfileModal;\n","import React, { useMemo, useState } from \"react\";\n\nimport lunr from \"lunr\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport \"./search-bar.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    minWidth: 150,\n    marginLeft: \"10px\",\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\nconst SearchBar = ({ mentors, setHasSearch, setSearchResults }) => {\n  const [field, setField] = useState(\"name\");\n\n  const classes = useStyles();\n  const documents = useMemo(\n    () =>\n      Object.keys(mentors).map((mentorId) => ({\n        mentorId,\n        industry: mentors[mentorId].industries.join(\" \"),\n        ...mentors[mentorId],\n      })),\n    [mentors]\n  );\n  const searchIndex = useMemo(\n    () =>\n      lunr(function () {\n        this.ref(\"mentorId\");\n        this.field(\"name\");\n        this.field(\"role\");\n        this.field(\"industry\");\n        this.field(\"organisation\");\n        this.field(\"school\");\n        this.field(\"courseOfStudy\");\n\n        this.b(0);\n        this.k1(0);\n\n        documents.forEach((doc) => this.add(doc), this);\n      }),\n    [documents]\n  );\n\n  const [searchValue, setSearchValue] = useState(\"\");\n  useMemo(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (searchValue.trim().length === 0) {\n        setHasSearch(false);\n        return;\n      }\n\n      const words = searchValue.trim().split(/\\s+/);\n      const query = words.map((word) => field + \":\" + word).join(\" \");\n      const results = searchIndex.search(query).map((item) => item.ref);\n      setHasSearch(true);\n      setSearchResults(results);\n    }, 200);\n    return () => clearTimeout(delayDebounceFn);\n  }, [field, searchIndex, searchValue, setHasSearch, setSearchResults]);\n\n  return (\n    <form noValidate autoComplete=\"off\" className=\"search-bar\">\n      <TextField\n        id=\"standard-search\"\n        label=\"Search mentors by...\"\n        onChange={(newValue) => setSearchValue(newValue.target.value)}\n      />\n      <FormControl className={classes.formControl}>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={field}\n          onChange={(event) => setField(event.target.value)}\n        >\n          <MenuItem value=\"name\">Name</MenuItem>\n          <MenuItem value=\"role\">Role</MenuItem>\n          <MenuItem value=\"industry\">Industry</MenuItem>\n          <MenuItem value=\"organisation\">Organisation</MenuItem>\n          <MenuItem value=\"school\">School</MenuItem>\n          <MenuItem value=\"courseOfStudy\">Course</MenuItem>\n        </Select>\n      </FormControl>\n    </form>\n  );\n};\n\nexport default SearchBar;\n","export const fetchMentors = async (setMentors, setMentorIds) => {\n  const mentors = {};\n  const mentorIds = [];\n\n  const mentorsData = await fetch(\n    \"https://d21fj0gildolug.cloudfront.net/load_mentors\"\n  )\n    .then((response) => response.json())\n    .then((data) => data.mentors);\n\n  mentorsData.forEach(\n    ({\n      id: mentorId,\n      Photo: images,\n      Name: name,\n      Biography: fullBio,\n      \"Job Title\": role,\n      \"Industry 1\": industry1,\n      \"Industry 2\": industry2,\n      \"Industry 3\": industry3,\n      Organisation: organisation,\n      School: school,\n      \"Course of Study\": courseOfStudy,\n    }) => {\n      const fullImageUrl = images.length > 0 ? images[0].url : undefined;\n      const thumbnailImageUrl =\n        images.length > 0 && images[0].thumbnails\n          ? images[0].thumbnails.large.url\n          : undefined;\n\n      mentors[mentorId] = {\n        courseOfStudy,\n        fullBio,\n        fullImageUrl,\n        industries: [industry1, industry2, industry3].filter(Boolean),\n        name,\n        organisation,\n        role,\n        school,\n        thumbnailImageUrl,\n      };\n      mentorIds.push(mentorId);\n    }\n  );\n\n  setMentors(mentors);\n  setMentorIds(mentorIds);\n};\n","import React, { useEffect, useMemo, useState } from \"react\";\n\nimport Header from \"./components/header\";\nimport ProfileCard from \"./components/profile-card\";\nimport ProfileModal from \"./components/profile-modal\";\nimport SearchBar from \"./components/search-bar\";\nimport { fetchMentors } from \"./mentors\";\n\nimport \"./App.css\";\n\nconst setHash = (hash) => window.history.replaceState({}, \"\", `#${hash}`);\n\nfunction App() {\n  const [mentors, setMentors] = useState([]);\n  const [mentorIds, setMentorIds] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const [activeMentorId, setActiveMentorId] = useState(\"\");\n  const activateModal = (mentorId) => {\n    setActiveMentorId(mentorId);\n    setIsModalOpen(true);\n  };\n\n  const [hasMentorsFetched, setHasMentorsFetched] = useState(false);\n  useEffect(() => {\n    async function fetchData() {\n      await fetchMentors(setMentors, setMentorIds);\n      setHasMentorsFetched(true);\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    // Checks hash and ensures that any modal with a corresponding name is open.\n    const ensureModalFromHash = () => {\n      const mentorId = window.location.hash.slice(1);\n      if (mentors.hasOwnProperty(mentorId)) {\n        if (!isModalOpen || mentorId !== activeMentorId) {\n          activateModal(mentorId);\n          return true;\n        }\n      }\n    };\n\n    // If modal is open, ensure that the hash is active.\n    if (isModalOpen) {\n      setHash(activeMentorId);\n    } else {\n      // If modal is not open and `activeMentorId === \"\"`, this must be the\n      // initial load. Check for a hash, and open the modal if such an ID\n      // exists.\n      if (activeMentorId === \"\") {\n        if (!ensureModalFromHash()) {\n          // Otherwise, set a default ID, but do not open the modal.\n          setActiveMentorId(\"\");\n        }\n      } else {\n        // An ID exists, but the modal is not open, so remove the hash.\n        setHash(\"\");\n      }\n    }\n\n    // Add event listeners to catch if the user manually changes the hash.\n    window.addEventListener(\"hashchange\", ensureModalFromHash, false);\n    return () =>\n      window.removeEventListener(\"hashchange\", ensureModalFromHash, false);\n  }, [isModalOpen, activeMentorId, mentors]);\n\n  const [hasSearch, setHasSearch] = useState(false);\n  const [searchResults, setSearchResults] = useState([]);\n\n  const visibleMentorIds = useMemo(\n    () => (hasSearch ? searchResults : mentorIds),\n    [hasSearch, searchResults, mentorIds]\n  );\n\n  return (\n    <div className=\"container\">\n      <Header />\n\n      <div className=\"canvas\">\n        <p className=\"disclaimer\">\n          <small>\n            The privacy and safety of our mentors is of utmost priority to\n            Advisory. Any attempt to approach or contact our mentors outside of\n            the parameters of the Advisory Mentorship Programme—whilst claiming\n            affiliation to Advisory, or misrepresenting a relationship to\n            Advisory—will be treated as misrepresentation, even fraudulent\n            misrepresentation, as considered under the Misrepresentation Act.\n            Advisory will take legal action against any individuals or\n            organisations who attempt to deceive, harass, or otherwise request\n            dishonest assistance from our mentors.\n          </small>\n        </p>\n        {hasMentorsFetched ? (\n          <div className=\"results\">\n            <SearchBar\n              mentors={mentors}\n              setHasSearch={setHasSearch}\n              setSearchResults={setSearchResults}\n            />\n            <p className=\"results-text\">\n              Displaying {visibleMentorIds.length} search result(s).\n            </p>\n            <div className=\"card-container\">\n              {visibleMentorIds.map((mentorId) => (\n                <ProfileCard\n                  key={mentorId}\n                  mentor={mentors[mentorId]}\n                  onReadMore={() => activateModal(mentorId)}\n                />\n              ))}\n            </div>\n          </div>\n        ) : (\n          <p className=\"placeholder-text\">Loading Mentors Available...</p>\n        )}\n      </div>\n\n      <ProfileModal\n        isOpen={isModalOpen}\n        mentor={mentors[activeMentorId]}\n        onClose={() => setIsModalOpen(false)}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport ReactModal from \"react-modal\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\nReactModal.setAppElement(\"#root\");\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}